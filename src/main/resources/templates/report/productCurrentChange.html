<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/site.css">
    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script type="text/javascript" src="js/My97DatePicker/WdatePicker.js"></script>
    <script type="text/javascript" src="js/excel/external/jszip.min.js"></script>
    <script type="text/javascript" src="js/excel/external/FileSaver.js"></script>
    <script type="text/javascript" src="js/excel/scripts/excel-gen.js"></script>
    <script type="text/javascript" src="js/excel/scripts/demo.page.js"></script>
</head>
<body>
<div class="panel panel-default">
    <div class="panel-heading">
        现有库存日常变动统计
    </div>
    <div class="panel-body">
        <div>
            <ul class="search_input">
                <li>开始：<input type="text" name="startDate" id="startDate" th:value="${startDate}"
                                onclick="WdatePicker({minDate: '2015-09-10', maxDate: '2080-12-20'})" readonly size="10"></li>
                <li>结束：<input type="text" name="endDate" id="endDate" th:value="${endDate}"
                                onclick="WdatePicker({minDate: '2015-09-10', maxDate: '2080-12-20'})" readonly size="10"></li>
                <li>物品：<input type="text" name="prodName" id="prodName" th:value="${prodName}" size="10"></li>
                <li>分类：<input type="text" name="prodParamName" id="prodParamName" th:value="${prodParamName}" size="10"></li>
            </ul>
        </div>
        <div style="position:absolute;right: 25px;">
            <ul class="search_input">
                <li><a class="btn btn-primary" id="search_prod_btn">查询</a></li>
                <li><button type="button" class="btn btn-primary" id="generate-excel"><i class="fa fa-file-excel-o" aria-hidden="true"></i>导出Excel</button></li>
            </ul>
        </div>
    </div>
    <div class="panel-body">
        <table class="table table-bordered" id="test_table">
            <thead>
            <tr>
                <th>物品编号</th>
                <th>物品名称</th>
                <th>物品分类参数</th>
                <th>变更时间</th>
                <th>期初</th>
                <th>增加</th>
                <th>减少</th>
                <th>期末</th>
                <th>操作人</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="prodTrade:${productTradeList}">
                <td th:text="${prodTrade.prodTradeId}">a</td>
                <td th:text="${prodTrade.product.prodName}">b</td>
                <td th:text="${prodTrade.productParameter.prodParamName}">c</td>
                <td th:text="${#dates.format(prodTrade.tradeDate, 'yyyy-MM-dd HH:mm:ss')}"></td>
                <td th:text="${prodTrade.beginNum}"></td>
                <td th:text="${prodTrade.tradeAdd}"></td>
                <td th:text="${prodTrade.tradeDel}"></td>
                <td th:text="${prodTrade.endNum}"></td>
                <td th:text="${prodTrade.oper.userName}"></td>
            </tr>
            </tbody>
        </table>
    </div>
</div>
</body>
<script>
    $("#search_prod_btn").click(function(){
        var prodName=$("#prodName").val();
        var prodParamName=$("#prodParamName").val();
        window.location=encodeURI("productCurrentStockChange?startDate="+$("#startDate").val()+"&endDate="+$("#endDate").val()+"&prodName="+prodName+"&prodParamName="+prodParamName);
    });
    $(function(){

    })
</script>
</html>